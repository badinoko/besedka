name: besedka-project-rule
type: project
language: russian
content: |
  # Правила проекта "Беседка"
  
  ## Общее описание
  Проект "Беседка" - это комплексная веб-платформа, объединяющая:
  - Интернет-магазин семян "Magic Beans" (встроенный)
  - Социальную сеть для растениеводов
  - Систему гроу-репортов (аналог GrowDiaries)
  - Галерею сообщества с фотографиями растений
  - Чат сообщества в реальном времени
  
  ## Технический стек
  - **Backend**: Django 4.2, Python 3.12
  - **База данных**: PostgreSQL
  - **Кеширование**: Redis
  - **WebSocket**: Django Channels
  - **Контейнеризация**: Docker, Docker Compose
  - **Авторизация**: Django Allauth + Telegram Login (внешний бот)
  
  ## Система ролей и полномочий
  
  ### 1. Owner (Владелец платформы)
  - Полный доступ ко всем разделам платформы
  - Управление всеми пользователями и ролями
  - Доступ к настройкам платформы
  - Может выполнять функции любой другой роли
  - Видит все логи и статистику
  
  ### 2. Admin (Администратор/Модератор платформы)
  - Модерация контента (чат, галерея, гроу-логи)
  - Управление банами и ограничениями
  - НЕ имеет доступа к настройкам платформы
  - НЕ имеет доступа к управлению магазином
  
  ### 3. Store Owner (Владелец магазина)
  - Полный доступ к управлению магазином
  - Управление администраторами магазина
  - Настройки магазина, способы оплаты и доставки
  - Маркетинг и промоакции
  - Отчеты и аналитика продаж
  
  ### 4. Store Admin (Администратор магазина)
  - Оперативное управление товарами
  - Обработка заказов
  - Создание промоакций и купонов
  - НЕ может удалять данные (только soft delete)
  - НЕ имеет доступа к настройкам магазина
  
  ### 5. User (Зарегистрированный пользователь)
  - Создание гроу-репортов (публичных/приватных)
  - Загрузка фото в галерею
  - Участие в чате
  - Комментарии и лайки
  - Покупки в магазине
  
  ### 6. Guest (Гость)
  - Просмотр каталога магазина
  - Просмотр публичных гроу-репортов
  - Просмотр галереи
  - НЕ может: писать в чат, комментировать, лайкать
  
  ## Основные модули и их статус
  
  ### ✅ Реализовано
  - Система авторизации и ролей
  - Модели данных для всех модулей
  - Административные панели для разных ролей
  - Middleware для разграничения доступа
  - Система логирования действий
  
  ### ⚠️ Частично реализовано
  - Магазин (нет публичного каталога и корзины)
  - Система уведомлений (модель есть, но не используется)
  
  ### ❌ Не реализовано
  - UI/UX для гроу-репортов
  - UI/UX для галереи
  - WebSocket чат в реальном времени
  - Публичный каталог магазина
  - Процесс оформления заказа
  - API для мобильных приложений
  
  ## Критические проблемы к исправлению
  
  1. **Логика доступа владельца**: Владелец платформы должен иметь доступ ко всем админкам
  2. **Отсутствие тестов**: Необходимы unit и интеграционные тесты
  3. **WebSocket не настроен**: Чат не работает в реальном времени
  4. **Нет единого UI**: Отсутствует дизайн-система
  
  ## Важные замечания
  
  ⚠️ **Telegram бот** уже реализован внешне. НЕ генерировать код бота внутри проекта!
  
  ## Приоритеты разработки
  
  1. Исправление критических багов с ролями
  2. Завершение функционала магазина
  3. Реализация UI для социальных функций
  4. Настройка WebSocket для чата
  5. Оптимизация и тестирование 
