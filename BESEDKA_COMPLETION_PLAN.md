# üéØ –ü–ª–∞–Ω –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –ø—Ä–æ–µ–∫—Ç–∞ "–ë–µ—Å–µ–¥–∫–∞"

## üìã –û–≥–ª–∞–≤–ª–µ–Ω–∏–µ

1. [–û–±–∑–æ—Ä —Ç–µ–∫—É—â–µ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è](#–æ–±–∑–æ—Ä-—Ç–µ–∫—É—â–µ–≥–æ-—Å–æ—Å—Ç–æ—è–Ω–∏—è)
2. [–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è](#—ç—Ç–∞–ø-1-–∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ-–∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è)
3. [–ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ –º–∞–≥–∞–∑–∏–Ω–∞](#—ç—Ç–∞–ø-2-–∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ-–º–∞–≥–∞–∑–∏–Ω–∞)
4. [–°–æ—Ü–∏–∞–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏](#—ç—Ç–∞–ø-3-—Å–æ—Ü–∏–∞–ª—å–Ω—ã–µ-—Ñ—É–Ω–∫—Ü–∏–∏)
5. [–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∏ –ø—Ä–æ–¥–∞–∫—à–Ω](#—ç—Ç–∞–ø-4-–æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è-–∏-–ø—Ä–æ–¥–∞–∫—à–Ω)
6. [–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—é](#–∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏-–ø–æ-–≤—ã–ø–æ–ª–Ω–µ–Ω–∏—é)

---

## üîç –û–±–∑–æ—Ä —Ç–µ–∫—É—â–µ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è

### ‚úÖ –ß—Ç–æ —É–∂–µ –≥–æ—Ç–æ–≤–æ:
- –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞ –∏ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞
- –ú–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –≤—Å–µ—Ö –º–æ–¥—É–ª–µ–π
- –°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –∏ —Ä–æ–ª–µ–π
- –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω—ã–µ –ø–∞–Ω–µ–ª–∏ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Ä–æ–ª–µ–π
- Docker-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è
- –ë–∞–∑–æ–≤–∞—è –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞

### ‚ùå –ß—Ç–æ —Ç—Ä–µ–±—É–µ—Ç –¥–æ—Ä–∞–±–æ—Ç–∫–∏:
- –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è –æ—à–∏–±–∫–∞ –≤ –ª–æ–≥–∏–∫–µ –¥–æ—Å—Ç—É–ø–∞ –≤–ª–∞–¥–µ–ª—å—Ü–∞
- –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ UI –¥–ª—è —Å–æ—Ü–∏–∞–ª—å–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π
- WebSocket –¥–ª—è —á–∞—Ç–∞ –Ω–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω
- –ù–µ—Ç –ø—É–±–ª–∏—á–Ω–æ–≥–æ –∫–∞—Ç–∞–ª–æ–≥–∞ –º–∞–≥–∞–∑–∏–Ω–∞
- –û—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç —Ç–µ—Å—Ç—ã

### üìä –û—Ü–µ–Ω–∫–∞ –≤—Ä–µ–º–µ–Ω–∏:
- **–û–±—â–µ–µ –≤—Ä–µ–º—è**: 15-20 —Ä–∞–±–æ—á–∏—Ö –¥–Ω–µ–π
- **–ü—Ä–∏ –∏–Ω—Ç–µ–Ω—Å–∏–≤–Ω–æ–π —Ä–∞–±–æ—Ç–µ**: 10-12 –¥–Ω–µ–π

---

## üö® –≠—Ç–∞–ø 1: –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

**–í—Ä–µ–º—è**: 1-2 –¥–Ω—è  
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ô

### 1.1 –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ª–æ–≥–∏–∫–∏ —Ä–æ–ª–µ–π

#### –ü—Ä–æ–±–ª–µ–º–∞:
–í–ª–∞–¥–µ–ª–µ—Ü –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã –Ω–µ –º–æ–∂–µ—Ç –∑–∞–π—Ç–∏ –≤ –∞–¥–º–∏–Ω–∫–∏ –º–∞–≥–∞–∑–∏–Ω–∞ –∏–∑-–∑–∞ –æ—à–∏–±–∫–∏ –≤ `AdminRedirectMiddleware`.

#### –†–µ—à–µ–Ω–∏–µ:

```python
# core/middleware.py - –∏—Å–ø—Ä–∞–≤–∏—Ç—å –ª–æ–≥–∏–∫—É –¥–ª—è –≤–ª–∞–¥–µ–ª—å—Ü–∞
if getattr(user, 'role', None) == 'owner':
    # –í–ª–∞–¥–µ–ª–µ—Ü –∏–º–µ–µ—Ç –¥–æ—Å—Ç—É–ø –∫–æ –≤—Å–µ–º –∞–¥–º–∏–Ω–∫–∞–º –±–µ–∑ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π
    if path.startswith('/store_owner/') or path.startswith('/store_admin/'):
        print(f"   ‚úÖ –í–õ–ê–î–ï–õ–ï–¶ –ü–õ–ê–¢–§–û–†–ú–´ ‚Üí –î–û–°–¢–£–ü –ö –ê–î–ú–ò–ù–ö–ï –ú–ê–ì–ê–ó–ò–ù–ê")
        return None  # –†–∞–∑—Ä–µ—à–∞–µ–º –¥–æ—Å—Ç—É–ø
    
    # –û—Å—Ç–∞–ª—å–Ω–∞—è –ª–æ–≥–∏–∫–∞ –æ—Å—Ç–∞–µ—Ç—Å—è –ø—Ä–µ–∂–Ω–µ–π
    elif path.startswith('/moderator_admin/'):
        target_admin = '/moderator_admin/'
        print(f"   üëë –í–õ–ê–î–ï–õ–ï–¶ –ü–õ–ê–¢–§–û–†–ú–´ ‚Üí –ê–î–ú–ò–ù–ö–ê –ú–û–î–ï–†–ê–¢–û–†–ê")
    else:
        target_admin = '/owner_admin/'
        print(f"   üëë –í–õ–ê–î–ï–õ–ï–¶ –ü–õ–ê–¢–§–û–†–ú–´ ‚Üí –ê–î–ú–ò–ù–ö–ê –ü–õ–ê–¢–§–û–†–ú–´")
```

### 1.2 –°–æ–∑–¥–∞–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

#### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ç–µ—Å—Ç–æ–≤:

```
tests/
‚îú‚îÄ‚îÄ test_roles/
‚îÇ   ‚îú‚îÄ‚îÄ test_owner_access.py
‚îÇ   ‚îú‚îÄ‚îÄ test_admin_access.py
‚îÇ   ‚îú‚îÄ‚îÄ test_store_roles.py
‚îÇ   ‚îî‚îÄ‚îÄ test_user_permissions.py
‚îú‚îÄ‚îÄ test_models/
‚îÇ   ‚îú‚îÄ‚îÄ test_user_model.py
‚îÇ   ‚îú‚îÄ‚îÄ test_store_models.py
‚îÇ   ‚îî‚îÄ‚îÄ test_social_models.py
‚îî‚îÄ‚îÄ test_integration/
    ‚îú‚îÄ‚îÄ test_auth_flow.py
    ‚îú‚îÄ‚îÄ test_admin_redirect.py
    ‚îî‚îÄ‚îÄ test_store_workflow.py
```

#### –ü—Ä–∏–º–µ—Ä —Ç–µ—Å—Ç–∞ –¥–ª—è —Ä–æ–ª–µ–π:

```python
# tests/test_roles/test_owner_access.py
from django.test import TestCase, Client
from django.urls import reverse
from users.models import User

class OwnerAccessTest(TestCase):
    def setUp(self):
        self.owner = User.objects.create_user(
            username='owner',
            password='testpass123',
            role='owner',
            is_staff=True
        )
        self.client = Client()
        self.client.login(username='owner', password='testpass123')
    
    def test_owner_can_access_all_admins(self):
        """–í–ª–∞–¥–µ–ª–µ—Ü –¥–æ–ª–∂–µ–Ω –∏–º–µ—Ç—å –¥–æ—Å—Ç—É–ø –∫–æ –≤—Å–µ–º –∞–¥–º–∏–Ω–∫–∞–º"""
        admin_urls = [
            '/owner_admin/',
            '/moderator_admin/',
            '/store_owner/',
            '/store_admin/',
        ]
        
        for url in admin_urls:
            response = self.client.get(url)
            self.assertIn(response.status_code, [200, 302])
            if response.status_code == 302:
                # –ü—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ –Ω–µ –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è–µ—Ç –Ω–∞ –ª–æ–≥–∏–Ω
                self.assertNotIn('/login/', response.url)
```

### 1.3 –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Å–∏—Å—Ç–µ–º—ã —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π

#### –ê–∫—Ç–∏–≤–∞—Ü–∏—è –º–æ–¥–µ–ª–∏ Notification:

```python
# users/signals.py
from django.db.models.signals import post_save
from django.dispatch import receiver
from users.models import User, UserFollow, Notification

@receiver(post_save, sender=UserFollow)
def create_follow_notification(sender, instance, created, **kwargs):
    """–°–æ–∑–¥–∞–µ—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ –Ω–æ–≤–æ–º –ø–æ–¥–ø–∏—Å—á–∏–∫–µ"""
    if created:
        Notification.objects.create(
            recipient=instance.followed,
            sender=instance.follower,
            notification_type='follow',
            title='–ù–æ–≤—ã–π –ø–æ–¥–ø–∏—Å—á–∏–∫',
            message=f'{instance.follower.username} –ø–æ–¥–ø–∏—Å–∞–ª—Å—è –Ω–∞ –≤–∞—Å'
        )

# –ê–Ω–∞–ª–æ–≥–∏—á–Ω–æ –¥–ª—è –ª–∞–π–∫–æ–≤, –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤ –∏ —Ç.–¥.
```

### 1.4 –°–æ–∑–¥–∞–Ω–∏–µ –±–∞–∑–æ–≤–æ–≥–æ UI –¥–ª—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π

```html
<!-- templates/includes/notifications.html -->
<div class="notifications-dropdown">
    <button class="btn btn-icon" data-bs-toggle="dropdown">
        <i class="fas fa-bell"></i>
        {% if user.unread_notifications_count %}
            <span class="badge">{{ user.unread_notifications_count }}</span>
        {% endif %}
    </button>
    <div class="dropdown-menu">
        {% for notification in user.recent_notifications %}
            <a class="dropdown-item {% if not notification.is_read %}unread{% endif %}"
               href="{{ notification.get_absolute_url }}">
                <i class="{{ notification.type_icon }}"></i>
                <div>
                    <strong>{{ notification.title }}</strong>
                    <p>{{ notification.message }}</p>
                    <small>{{ notification.created_at|timesince }}</small>
                </div>
            </a>
        {% empty %}
            <p class="text-center p-3">–ù–µ—Ç –Ω–æ–≤—ã—Ö —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π</p>
        {% endfor %}
    </div>
</div>
```

---

## üõí –≠—Ç–∞–ø 2: –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ –º–∞–≥–∞–∑–∏–Ω–∞

**–í—Ä–µ–º—è**: 3-4 –¥–Ω—è  
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: –í–´–°–û–ö–ò–ô

### 2.1 –ü—É–±–ª–∏—á–Ω—ã–π –∫–∞—Ç–∞–ª–æ–≥

#### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ URL:

```python
# magicbeans_store/urls.py
from django.urls import path
from . import views

app_name = 'store'

urlpatterns = [
    # –ö–∞—Ç–∞–ª–æ–≥
    path('', views.CatalogView.as_view(), name='catalog'),
    path('seedbank/<slug:slug>/', views.SeedBankDetailView.as_view(), name='seedbank_detail'),
    path('strain/<slug:slug>/', views.StrainDetailView.as_view(), name='strain_detail'),
    
    # –ö–æ—Ä–∑–∏–Ω–∞
    path('cart/', views.CartView.as_view(), name='cart'),
    path('cart/add/<int:item_id>/', views.AddToCartView.as_view(), name='cart_add'),
    path('cart/remove/<int:item_id>/', views.RemoveFromCartView.as_view(), name='cart_remove'),
    
    # –û—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ –∑–∞–∫–∞–∑–∞
    path('checkout/', views.CheckoutView.as_view(), name='checkout'),
    path('checkout/confirm/', views.OrderConfirmView.as_view(), name='order_confirm'),
    
    # –õ–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç
    path('account/', views.AccountView.as_view(), name='account'),
    path('account/orders/', views.OrderListView.as_view(), name='order_list'),
    path('account/order/<int:pk>/', views.OrderDetailView.as_view(), name='order_detail'),
]
```

#### Views –¥–ª—è –∫–∞—Ç–∞–ª–æ–≥–∞:

```python
# magicbeans_store/views.py
from django.views.generic import ListView, DetailView
from django.db.models import Q
from .models import Strain, SeedBank, StockItem

class CatalogView(ListView):
    model = Strain
    template_name = 'store/catalog.html'
    context_object_name = 'strains'
    paginate_by = 12
    
    def get_queryset(self):
        queryset = Strain.objects.filter(is_active=True)
        
        # –§–∏–ª—å—Ç—Ä –ø–æ —Å–∏–¥–±–∞–Ω–∫—É
        seedbank = self.request.GET.get('seedbank')
        if seedbank:
            queryset = queryset.filter(seedbank__slug=seedbank)
        
        # –ü–æ–∏—Å–∫
        search = self.request.GET.get('search')
        if search:
            queryset = queryset.filter(
                Q(name__icontains=search) |
                Q(description__icontains=search)
            )
        
        # –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞
        sort = self.request.GET.get('sort', '-created_at')
        queryset = queryset.order_by(sort)
        
        return queryset
    
    def get_context_data(self, **kwargs):
        context = super().get_context_data(**kwargs)
        context['seedbanks'] = SeedBank.objects.filter(is_active=True)
        context['current_seedbank'] = self.request.GET.get('seedbank')
        return context
```

### 2.2 –ö–æ—Ä–∑–∏–Ω–∞ –ø–æ–∫—É–ø–æ–∫

#### –ú–æ–¥–µ–ª—å –∫–æ—Ä–∑–∏–Ω—ã:

```python
# magicbeans_store/models/cart.py
from django.db import models
from django.conf import settings

class Cart(models.Model):
    user = models.ForeignKey(
        settings.AUTH_USER_MODEL,
        on_delete=models.CASCADE,
        null=True,
        blank=True
    )
    session_key = models.CharField(max_length=40, null=True, blank=True)
    created_at = models.DateTimeField(auto_now_add=True)
    updated_at = models.DateTimeField(auto_now=True)
    
    class Meta:
        unique_together = [['user', 'session_key']]
    
    def get_total(self):
        return sum(item.get_total() for item in self.items.all())
    
    def get_items_count(self):
        return sum(item.quantity for item in self.items.all())

class CartItem(models.Model):
    cart = models.ForeignKey(Cart, on_delete=models.CASCADE, related_name='items')
    stock_item = models.ForeignKey('StockItem', on_delete=models.CASCADE)
    quantity = models.PositiveIntegerField(default=1)
    
    class Meta:
        unique_together = [['cart', 'stock_item']]
    
    def get_total(self):
        return self.stock_item.price * self.quantity
```

### 2.3 –ü—Ä–æ—Ü–µ—Å—Å –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏—è –∑–∞–∫–∞–∑–∞

#### Checkout View:

```python
# magicbeans_store/views/checkout.py
from django.contrib.auth.mixins import LoginRequiredMixin
from django.views.generic import FormView
from django.shortcuts import redirect
from ..forms import CheckoutForm
from ..models import Order, OrderItem

class CheckoutView(LoginRequiredMixin, FormView):
    template_name = 'store/checkout.html'
    form_class = CheckoutForm
    
    def get_initial(self):
        initial = super().get_initial()
        user = self.request.user
        initial.update({
            'email': user.email,
            'phone': getattr(user.profile_extra, 'phone', ''),
            'delivery_address': getattr(user.profile_extra, 'address', ''),
        })
        return initial
    
    def form_valid(self, form):
        # –°–æ–∑–¥–∞–µ–º –∑–∞–∫–∞–∑
        cart = self.get_cart()
        order = Order.objects.create(
            user=self.request.user,
            status=OrderStatus.objects.get(code='pending'),
            total_amount=cart.get_total(),
            delivery_address=form.cleaned_data['delivery_address'],
            phone=form.cleaned_data['phone'],
            email=form.cleaned_data['email'],
            shipping_method=form.cleaned_data['shipping_method'],
            payment_method=form.cleaned_data['payment_method'],
        )
        
        # –°–æ–∑–¥–∞–µ–º –ø–æ–∑–∏—Ü–∏–∏ –∑–∞–∫–∞–∑–∞
        for cart_item in cart.items.all():
            OrderItem.objects.create(
                order=order,
                stock_item=cart_item.stock_item,
                quantity=cart_item.quantity,
                price=cart_item.stock_item.price
            )
        
        # –û—á–∏—â–∞–µ–º –∫–æ—Ä–∑–∏–Ω—É
        cart.items.all().delete()
        
        # –û—Ç–ø—Ä–∞–≤–ª—è–µ–º —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
        self.send_order_notifications(order)
        
        return redirect('store:order_confirm', pk=order.pk)
```

### 2.4 –®–∞–±–ª–æ–Ω—ã –¥–ª—è –º–∞–≥–∞–∑–∏–Ω–∞

#### –ö–∞—Ç–∞–ª–æ–≥ (store/catalog.html):

```html
{% extends 'base.html' %}
{% load static %}

{% block content %}
<div class="container">
    <div class="row">
        <!-- –§–∏–ª—å—Ç—Ä—ã -->
        <div class="col-md-3">
            <div class="card">
                <div class="card-body">
                    <h5>–§–∏–ª—å—Ç—Ä—ã</h5>
                    
                    <!-- –°–∏–¥–±–∞–Ω–∫–∏ -->
                    <div class="mb-3">
                        <h6>–°–∏–¥–±–∞–Ω–∫–∏</h6>
                        <div class="list-group">
                            <a href="{% url 'store:catalog' %}" 
                               class="list-group-item {% if not current_seedbank %}active{% endif %}">
                                –í—Å–µ —Å–∏–¥–±–∞–Ω–∫–∏
                            </a>
                            {% for seedbank in seedbanks %}
                                <a href="?seedbank={{ seedbank.slug }}" 
                                   class="list-group-item {% if current_seedbank == seedbank.slug %}active{% endif %}">
                                    {{ seedbank.name }}
                                </a>
                            {% endfor %}
                        </div>
                    </div>
                    
                    <!-- –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ -->
                    <div class="mb-3">
                        <h6>–°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞</h6>
                        <select class="form-select" onchange="location = this.value;">
                            <option value="?sort=-created_at">–ù–æ–≤–∏–Ω–∫–∏</option>
                            <option value="?sort=price">–¶–µ–Ω–∞: –ø–æ –≤–æ–∑—Ä–∞—Å—Ç–∞–Ω–∏—é</option>
                            <option value="?sort=-price">–¶–µ–Ω–∞: –ø–æ —É–±—ã–≤–∞–Ω–∏—é</option>
                            <option value="?sort=name">–ü–æ –Ω–∞–∑–≤–∞–Ω–∏—é</option>
                        </select>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- –¢–æ–≤–∞—Ä—ã -->
        <div class="col-md-9">
            <div class="row">
                {% for strain in strains %}
                    <div class="col-md-4 mb-4">
                        <div class="card h-100">
                            {% if strain.main_photo %}
                                <img src="{{ strain.main_photo.url }}" class="card-img-top" alt="{{ strain.name }}">
                            {% else %}
                                <img src="{% static 'images/no-image.jpg' %}" class="card-img-top" alt="No image">
                            {% endif %}
                            
                            <div class="card-body">
                                <h5 class="card-title">{{ strain.name }}</h5>
                                <p class="text-muted">{{ strain.seedbank.name }}</p>
                                <p class="card-text">{{ strain.description|truncatewords:20 }}</p>
                                
                                <div class="d-flex justify-content-between align-items-center">
                                    <div class="price">
                                        {% with stock=strain.stock_items.first %}
                                            {% if stock %}
                                                <strong>{{ stock.price }} ‚ÇΩ</strong>
                                            {% else %}
                                                <span class="text-muted">–ù–µ—Ç –≤ –Ω–∞–ª–∏—á–∏–∏</span>
                                            {% endif %}
                                        {% endwith %}
                                    </div>
                                    
                                    <div class="btn-group">
                                        <a href="{% url 'store:strain_detail' strain.slug %}" 
                                           class="btn btn-sm btn-outline-primary">
                                            –ü–æ–¥—Ä–æ–±–Ω–µ–µ
                                        </a>
                                        {% if strain.stock_items.exists %}
                                            <button class="btn btn-sm btn-primary add-to-cart"
                                                    data-item-id="{{ strain.stock_items.first.id }}">
                                                –í –∫–æ—Ä–∑–∏–Ω—É
                                            </button>
                                        {% endif %}
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                {% empty %}
                    <div class="col-12">
                        <p class="text-center">–¢–æ–≤–∞—Ä—ã –Ω–µ –Ω–∞–π–¥–µ–Ω—ã</p>
                    </div>
                {% endfor %}
            </div>
            
            <!-- –ü–∞–≥–∏–Ω–∞—Ü–∏—è -->
            {% if is_paginated %}
                <nav>
                    <ul class="pagination justify-content-center">
                        {% if page_obj.has_previous %}
                            <li class="page-item">
                                <a class="page-link" href="?page={{ page_obj.previous_page_number }}">
                                    –ü—Ä–µ–¥—ã–¥—É—â–∞—è
                                </a>
                            </li>
                        {% endif %}
                        
                        {% for num in page_obj.paginator.page_range %}
                            <li class="page-item {% if page_obj.number == num %}active{% endif %}">
                                <a class="page-link" href="?page={{ num }}">{{ num }}</a>
                            </li>
                        {% endfor %}
                        
                        {% if page_obj.has_next %}
                            <li class="page-item">
                                <a class="page-link" href="?page={{ page_obj.next_page_number }}">
                                    –°–ª–µ–¥—É—é—â–∞—è
                                </a>
                            </li>
                        {% endif %}
                    </ul>
                </nav>
            {% endif %}
        </div>
    </div>
</div>

<script>
// –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤ –∫–æ—Ä–∑–∏–Ω—É —á–µ—Ä–µ–∑ AJAX
document.querySelectorAll('.add-to-cart').forEach(button => {
    button.addEventListener('click', function() {
        const itemId = this.dataset.itemId;
        fetch(`/store/cart/add/${itemId}/`, {
            method: 'POST',
            headers: {
                'X-CSRFToken': '{{ csrf_token }}',
                'Content-Type': 'application/json'
            }
        })
        .then(response => response.json())
        .then(data => {
            if (data.success) {
                // –û–±–Ω–æ–≤–ª—è–µ–º —Å—á–µ—Ç—á–∏–∫ –∫–æ—Ä–∑–∏–Ω—ã
                updateCartCounter(data.cart_count);
                // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ
                showNotification('–¢–æ–≤–∞—Ä –¥–æ–±–∞–≤–ª–µ–Ω –≤ –∫–æ—Ä–∑–∏–Ω—É');
            }
        });
    });
});
</script>
{% endblock %}
```

---

## üå± –≠—Ç–∞–ø 3: –°–æ—Ü–∏–∞–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏

**–í—Ä–µ–º—è**: 5-7 –¥–Ω–µ–π  
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: –°–†–ï–î–ù–ò–ô

### 3.1 Grow Logs (–ì—Ä–æ—É-—Ä–µ–ø–æ—Ä—Ç—ã)

#### –£—Å—Ç–∞–Ω–æ–≤–∫–∞ django-blog –¥–ª—è –∞–¥–∞–ø—Ç–∞—Ü–∏–∏:

```bash
pip install django-blog-it
# –ò–ª–∏ —Å–æ–∑–¥–∞–µ–º —Å–≤–æ—é —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é –Ω–∞ –æ—Å–Ω–æ–≤–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –º–æ–¥–µ–ª–µ–π
```

#### Views –¥–ª—è –≥—Ä–æ—É-–ª–æ–≥–æ–≤:

```python
# growlogs/views.py
from django.views.generic import ListView, DetailView, CreateView, UpdateView
from django.contrib.auth.mixins import LoginRequiredMixin
from .models import GrowLog, GrowLogEntry
from .forms import GrowLogForm, GrowLogEntryForm

class GrowLogListView(ListView):
    model = GrowLog
    template_name = 'growlogs/list.html'
    context_object_name = 'growlogs'
    paginate_by = 12
    
    def get_queryset(self):
        queryset = super().get_queryset()
        # –î–ª—è –≥–æ—Å—Ç–µ–π –ø–æ–∫–∞–∑—ã–≤–∞–µ–º —Ç–æ–ª—å–∫–æ –ø—É–±–ª–∏—á–Ω—ã–µ
        if not self.request.user.is_authenticated:
            queryset = queryset.filter(is_public=True)
        # –î–ª—è –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –ø—É–±–ª–∏—á–Ω—ã–µ + —Å–≤–æ–∏ –ø—Ä–∏–≤–∞—Ç–Ω—ã–µ
        elif not self.request.user.has_admin_access:
            queryset = queryset.filter(
                Q(is_public=True) | Q(grower=self.request.user)
            )
        return queryset.select_related('grower', 'strain')

class GrowLogCreateView(LoginRequiredMixin, CreateView):
    model = GrowLog
    form_class = GrowLogForm
    template_name = 'growlogs/create.html'
    
    def form_valid(self, form):
        form.instance.grower = self.request.user
        return super().form_valid(form)

class GrowLogDetailView(DetailView):
    model = GrowLog
    template_name = 'growlogs/detail.html'
    context_object_name = 'growlog'
    
    def get_queryset(self):
        queryset = super().get_queryset()
        # –ü—Ä–æ–≤–µ—Ä—è–µ–º –¥–æ—Å—Ç—É–ø –∫ –ø—Ä–∏–≤–∞—Ç–Ω—ã–º –ª–æ–≥–∞–º
        if not self.request.user.is_authenticated:
            queryset = queryset.filter(is_public=True)
        return queryset
    
    def get_context_data(self, **kwargs):
        context = super().get_context_data(**kwargs)
        context['entries'] = self.object.entries.all().order_by('day')
        context['photos'] = self.object.photos.all()
        return context
```

#### –®–∞–±–ª–æ–Ω –¥–ª—è —Å–ø–∏—Å–∫–∞ –≥—Ä–æ—É-–ª–æ–≥–æ–≤:

```html
<!-- templates/growlogs/list.html -->
{% extends 'base.html' %}

{% block content %}
<div class="container">
    <div class="d-flex justify-content-between align-items-center mb-4">
        <h1>–ì—Ä–æ—É-—Ä–µ–ø–æ—Ä—Ç—ã</h1>
        {% if user.is_authenticated %}
            <a href="{% url 'growlogs:create' %}" class="btn btn-primary">
                <i class="fas fa-plus"></i> –°–æ–∑–¥–∞—Ç—å —Ä–µ–ø–æ—Ä—Ç
            </a>
        {% endif %}
    </div>
    
    <div class="row">
        {% for growlog in growlogs %}
            <div class="col-md-4 mb-4">
                <div class="card h-100">
                    {% if growlog.photos.first %}
                        <img src="{{ growlog.photos.first.image.url }}" 
                             class="card-img-top" 
                             alt="{{ growlog.title }}">
                    {% endif %}
                    
                    <div class="card-body">
                        <h5 class="card-title">
                            {{ growlog.title }}
                            {% if not growlog.is_public %}
                                <i class="fas fa-lock text-muted" title="–ü—Ä–∏–≤–∞—Ç–Ω—ã–π"></i>
                            {% endif %}
                        </h5>
                        
                        <p class="card-text">
                            <small class="text-muted">
                                <i class="fas fa-user"></i> {{ growlog.grower.username }}<br>
                                <i class="fas fa-seedling"></i> {{ growlog.strain.name }}<br>
                                <i class="fas fa-calendar"></i> {{ growlog.start_date|date:"d.m.Y" }}
                            </small>
                        </p>
                        
                        <p class="card-text">{{ growlog.setup_description|truncatewords:20 }}</p>
                        
                        <a href="{% url 'growlogs:detail' growlog.pk %}" 
                           class="btn btn-primary btn-sm">
                            –ß–∏—Ç–∞—Ç—å –¥–∞–ª—å—à–µ
                        </a>
                    </div>
                </div>
            </div>
        {% empty %}
            <div class="col-12">
                <p class="text-center">–ü–æ–∫–∞ –Ω–µ—Ç –≥—Ä–æ—É-—Ä–µ–ø–æ—Ä—Ç–æ–≤</p>
            </div>
        {% endfor %}
    </div>
    
    <!-- –ü–∞–≥–∏–Ω–∞—Ü–∏—è -->
    {% include 'includes/pagination.html' %}
</div>
{% endblock %}
```

### 3.2 –ì–∞–ª–µ—Ä–µ—è

#### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ django-photologue:

```bash
pip install django-photologue
```

#### –ò–ª–∏ —Å–≤–æ—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è:

```python
# gallery/views.py
from django.views.generic import ListView, DetailView, CreateView
from django.contrib.auth.mixins import LoginRequiredMixin
from django.http import JsonResponse
from .models import Photo, PhotoComment

class GalleryView(ListView):
    model = Photo
    template_name = 'gallery/gallery.html'
    context_object_name = 'photos'
    paginate_by = 24
    
    def get_queryset(self):
        queryset = super().get_queryset()
        if not self.request.user.is_authenticated:
            queryset = queryset.filter(is_public=True)
        return queryset.select_related('author').prefetch_related('likes')

class PhotoUploadView(LoginRequiredMixin, CreateView):
    model = Photo
    fields = ['title', 'description', 'image', 'growlog', 'is_public']
    template_name = 'gallery/upload.html'
    
    def form_valid(self, form):
        form.instance.author = self.request.user
        response = super().form_valid(form)
        
        # –î–æ–±–∞–≤–ª—è–µ–º –∫–∞—Ä–º—É –∑–∞ –∑–∞–≥—Ä—É–∑–∫—É —Ñ–æ—Ç–æ
        self.request.user.add_karma(5, "–ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–æ—Ç–æ")
        
        return response

class PhotoLikeView(LoginRequiredMixin, View):
    def post(self, request, pk):
        photo = get_object_or_404(Photo, pk=pk)
        
        if request.user in photo.likes.all():
            photo.likes.remove(request.user)
            liked = False
        else:
            photo.likes.add(request.user)
            liked = True
            
            # –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –∞–≤—Ç–æ—Ä—É
            if photo.author != request.user:
                Notification.objects.create(
                    recipient=photo.author,
                    sender=request.user,
                    notification_type='like',
                    title='–ù–æ–≤—ã–π –ª–∞–π–∫',
                    message=f'{request.user.username} –æ—Ü–µ–Ω–∏–ª –≤–∞—à–µ —Ñ–æ—Ç–æ',
                    content_object=photo
                )
        
        return JsonResponse({
            'liked': liked,
            'likes_count': photo.likes.count()
        })
```

### 3.3 –ß–∞—Ç —Å WebSocket

#### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Django Channels:

```python
# chat/consumers.py
import json
from channels.generic.websocket import AsyncWebsocketConsumer
from channels.db import database_sync_to_async
from .models import ChatMessage

class ChatConsumer(AsyncWebsocketConsumer):
    async def connect(self):
        self.room_name = 'main_chat'
        self.room_group_name = f'chat_{self.room_name}'
        
        # –ü—Ä–∏—Å–æ–µ–¥–∏–Ω—è–µ–º—Å—è –∫ –≥—Ä—É–ø–ø–µ
        await self.channel_layer.group_add(
            self.room_group_name,
            self.channel_name
        )
        
        await self.accept()
    
    async def disconnect(self, close_code):
        # –ü–æ–∫–∏–¥–∞–µ–º –≥—Ä—É–ø–ø—É
        await self.channel_layer.group_discard(
            self.room_group_name,
            self.channel_name
        )
    
    async def receive(self, text_data):
        text_data_json = json.loads(text_data)
        message = text_data_json['message']
        
        # –°–æ—Ö—Ä–∞–Ω—è–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ –≤ –ë–î
        chat_message = await self.save_message(message)
        
        # –û—Ç–ø—Ä–∞–≤–ª—è–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ –≤ –≥—Ä—É–ø–ø—É
        await self.channel_layer.group_send(
            self.room_group_name,
            {
                'type': 'chat_message',
                'message': message,
                'username': self.scope['user'].username,
                'timestamp': chat_message.created_at.isoformat()
            }
        )
    
    async def chat_message(self, event):
        # –û—Ç–ø—Ä–∞–≤–ª—è–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ –≤ WebSocket
        await self.send(text_data=json.dumps({
            'message': event['message'],
            'username': event['username'],
            'timestamp': event['timestamp']
        }))
    
    @database_sync_to_async
    def save_message(self, message):
        return ChatMessage.objects.create(
            author=self.scope['user'],
            text=message
        )
```

#### Routing –¥–ª—è WebSocket:

```python
# chat/routing.py
from django.urls import re_path
from . import consumers

websocket_urlpatterns = [
    re_path(r'ws/chat/$', consumers.ChatConsumer.as_asgi()),
]
```

#### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ ASGI:

```python
# config/asgi.py
import os
from django.core.asgi import get_asgi_application
from channels.routing import ProtocolTypeRouter, URLRouter
from channels.auth import AuthMiddlewareStack
from channels.security.websocket import AllowedHostsOriginValidator

os.environ.setdefault('DJANGO_SETTINGS_MODULE', 'config.settings.local')

from chat.routing import websocket_urlpatterns

application = ProtocolTypeRouter({
    'http': get_asgi_application(),
    'websocket': AllowedHostsOriginValidator(
        AuthMiddlewareStack(
            URLRouter(websocket_urlpatterns)
        )
    ),
})
```

#### –§—Ä–æ–Ω—Ç–µ–Ω–¥ –¥–ª—è —á–∞—Ç–∞:

```html
<!-- templates/chat/room.html -->
{% extends 'base.html' %}

{% block content %}
<div class="container">
    <div class="row">
        <div class="col-md-8 offset-md-2">
            <div class="card">
                <div class="card-header">
                    <h4>–ß–∞—Ç —Å–æ–æ–±—â–µ—Å—Ç–≤–∞</h4>
                </div>
                
                <div class="card-body" id="chat-messages" style="height: 400px; overflow-y: auto;">
                    <!-- –ó–∞–≥—Ä—É–∂–∞–µ–º –∏—Å—Ç–æ—Ä–∏—é —Å–æ–æ–±—â–µ–Ω–∏–π -->
                    {% for message in messages %}
                        <div class="message mb-2">
                            <strong>{{ message.author.username }}:</strong>
                            <span>{{ message.text }}</span>
                            <small class="text-muted">{{ message.created_at|date:"H:i" }}</small>
                        </div>
                    {% endfor %}
                </div>
                
                <div class="card-footer">
                    <form id="chat-form">
                        <div class="input-group">
                            <input type="text" 
                                   id="chat-message-input" 
                                   class="form-control" 
                                   placeholder="–í–≤–µ–¥–∏—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏–µ...">
                            <button type="submit" class="btn btn-primary">
                                –û—Ç–ø—Ä–∞–≤–∏—Ç—å
                            </button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    const chatSocket = new WebSocket(
        'ws://' + window.location.host + '/ws/chat/'
    );
    
    const messagesContainer = document.getElementById('chat-messages');
    const messageInput = document.getElementById('chat-message-input');
    const chatForm = document.getElementById('chat-form');
    
    chatSocket.onmessage = function(e) {
        const data = JSON.parse(e.data);
        const messageDiv = document.createElement('div');
        messageDiv.className = 'message mb-2';
        messageDiv.innerHTML = `
            <strong>${data.username}:</strong>
            <span>${data.message}</span>
            <small class="text-muted">${new Date(data.timestamp).toLocaleTimeString()}</small>
        `;
        messagesContainer.appendChild(messageDiv);
        messagesContainer.scrollTop = messagesContainer.scrollHeight;
    };
    
    chatSocket.onclose = function(e) {
        console.error('Chat socket closed unexpectedly');
    };
    
    chatForm.onsubmit = function(e) {
        e.preventDefault();
        const message = messageInput.value.trim();
        if (message) {
            chatSocket.send(JSON.stringify({
                'message': message
            }));
            messageInput.value = '';
        }
    };
</script>
{% endblock %}
```

---

## üöÄ –≠—Ç–∞–ø 4: –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∏ –ø—Ä–æ–¥–∞–∫—à–Ω

**–í—Ä–µ–º—è**: 3-5 –¥–Ω–µ–π  
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: –í–ê–ñ–ù–´–ô

### 4.1 –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏—è

```python
# config/settings/production.py
CACHES = {
    'default': {
        'BACKEND': 'django_redis.cache.RedisCache',
        'LOCATION': env('REDIS_URL'),
        'OPTIONS': {
            'CLIENT_CLASS': 'django_redis.client.DefaultClient',
            'IGNORE_EXCEPTIONS': True,
        }
    }
}

# –ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–µ—Å—Å–∏–π
SESSION_ENGINE = 'django.contrib.sessions.backends.cache'
SESSION_CACHE_ALIAS = 'default'

# –ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ —à–∞–±–ª–æ–Ω–æ–≤
TEMPLATES[0]['OPTIONS']['loaders'] = [
    ('django.template.loaders.cached.Loader', [
        'django.template.loaders.filesystem.Loader',
        'django.template.loaders.app_directories.Loader',
    ]),
]
```

### 4.2 –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤

```python
# –ü—Ä–∏–º–µ—Ä –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –≤ views
class OptimizedStrainListView(ListView):
    model = Strain
    
    def get_queryset(self):
        return (
            super().get_queryset()
            .select_related('seedbank')
            .prefetch_related('stock_items', 'photos')
            .annotate(
                min_price=Min('stock_items__price'),
                in_stock=Count('stock_items', filter=Q(stock_items__quantity__gt=0))
            )
        )
```

### 4.3 –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞

```python
# requirements/production.txt
sentry-sdk==1.45.0
django-prometheus==2.3.1

# config/settings/production.py
import sentry_sdk
from sentry_sdk.integrations.django import DjangoIntegration

sentry_sdk.init(
    dsn=env('SENTRY_DSN'),
    integrations=[DjangoIntegration()],
    traces_sample_rate=0.1,
    send_default_pii=True
)

# Prometheus –º–µ—Ç—Ä–∏–∫–∏
INSTALLED_APPS += ['django_prometheus']
MIDDLEWARE = ['django_prometheus.middleware.PrometheusBeforeMiddleware'] + MIDDLEWARE
MIDDLEWARE += ['django_prometheus.middleware.PrometheusAfterMiddleware']
```

### 4.4 –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

```python
# config/settings/production.py
# HTTPS
SECURE_SSL_REDIRECT = True
SESSION_COOKIE_SECURE = True
CSRF_COOKIE_SECURE = True

# HSTS
SECURE_HSTS_SECONDS = 31536000
SECURE_HSTS_INCLUDE_SUBDOMAINS = True
SECURE_HSTS_PRELOAD = True

# Content Security Policy
CSP_DEFAULT_SRC = ("'self'",)
CSP_STYLE_SRC = ("'self'", "'unsafe-inline'", "https://fonts.googleapis.com")
CSP_SCRIPT_SRC = ("'self'", "'unsafe-inline'", "https://cdn.jsdelivr.net")
CSP_FONT_SRC = ("'self'", "https://fonts.gstatic.com")
CSP_IMG_SRC = ("'self'", "data:", "https:")

# Rate limiting
RATELIMIT_ENABLE = True
RATELIMIT_VIEW = 'ratelimit.views.ratelimited'
```

### 4.5 –ù–∞—Å—Ç—Ä–æ–π–∫–∞ CI/CD

```yaml
# .github/workflows/ci.yml
name: CI

on:
  push:
    branches: [ main, develop ]
  pull_request:
    branches: [ main ]

jobs:
  test:
    runs-on: ubuntu-latest
    
    services:
      postgres:
        image: postgres:15
        env:
          POSTGRES_PASSWORD: postgres
        options: >-
          --health-cmd pg_isready
          --health-interval 10s
          --health-timeout 5s
          --health-retries 5
    
    steps:
    - uses: actions/checkout@v3
    
    - name: Set up Python
      uses: actions/setup-python@v4
      with:
        python-version: '3.12'
    
    - name: Install dependencies
      run: |
        python -m pip install --upgrade pip
        pip install -r requirements/local.txt
    
    - name: Run tests
      env:
        DATABASE_URL: postgresql://postgres:postgres@localhost/besedka_test
      run: |
        python manage.py migrate
        python manage.py test
    
    - name: Run linting
      run: |
        flake8 .
        black --check .
        isort --check-only .
```

---

## üìù –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—é

### –î–ª—è –≤–Ω–µ–¥—Ä–µ–Ω–∏—è —ç—Ç–æ–≥–æ –ø–ª–∞–Ω–∞ –≤ –ø—Ä–æ–µ–∫—Ç:

1. **–°–æ—Ö—Ä–∞–Ω–∏—Ç–µ —Ñ–∞–π–ª –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞:**
   ```bash
   # –§–∞–π–ª —É–∂–µ —Å–æ–∑–¥–∞–Ω –∫–∞–∫ BESEDKA_COMPLETION_PLAN.md
   ```

2. **–î–æ–±–∞–≤—å—Ç–µ –≤ Git:**
   ```bash
   git add BESEDKA_COMPLETION_PLAN.md
   git commit -m "Add detailed completion plan for Besedka project"
   ```

3. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–∞–∫ —á–µ–∫-–ª–∏—Å—Ç:**
   - –û—Ç–º–µ—á–∞–π—Ç–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –ø—É–Ω–∫—Ç—ã
   - –î–æ–±–∞–≤–ª—è–π—Ç–µ –∑–∞–º–µ—Ç–∫–∏ –æ –ø—Ä–æ–±–ª–µ–º–∞—Ö
   - –û–±–Ω–æ–≤–ª—è–π—Ç–µ –≤—Ä–µ–º–µ–Ω–Ω—ã–µ –æ—Ü–µ–Ω–∫–∏

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –ø—Ä–æ–≥—Ä–µ—Å—Å–∞:

```markdown
## –ü—Ä–æ–≥—Ä–µ—Å—Å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

### –≠—Ç–∞–ø 1: –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è
- [x] –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ª–æ–≥–∏–∫–∏ —Ä–æ–ª–µ–π - ‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–æ 15.01.2025
- [ ] –°–æ–∑–¥–∞–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è - üöß –í –ø—Ä–æ—Ü–µ—Å—Å–µ
- [ ] –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Å–∏—Å—Ç–µ–º—ã —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π - ‚è≥ –û–∂–∏–¥–∞–µ—Ç
- [ ] –°–æ–∑–¥–∞–Ω–∏–µ –±–∞–∑–æ–≤–æ–≥–æ UI –¥–ª—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π - ‚è≥ –û–∂–∏–¥–∞–µ—Ç

### –≠—Ç–∞–ø 2: –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ –º–∞–≥–∞–∑–∏–Ω–∞
...
```

### –ö–æ–º–∞–Ω–¥—ã –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ —Å—Ç–∞—Ä—Ç–∞:

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–µ–∫—É—â–µ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è
python manage.py check_modules_status

# –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤
python manage.py test

# –°–æ–∑–¥–∞–Ω–∏–µ –º–∏–≥—Ä–∞—Ü–∏–π
python manage.py makemigrations
python manage.py migrate

# –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
python manage.py runserver

# –ó–∞–ø—É—Å–∫ —Å WebSocket (–¥–ª—è —á–∞—Ç–∞)
daphne -b 0.0.0.0 -p 8000 config.asgi:application
```

---

## üéØ –ö–ª—é—á–µ–≤—ã–µ –º–µ—Ç—Ä–∏–∫–∏ —É—Å–ø–µ—Ö–∞

1. **–í—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç** (coverage > 80%)
2. **–ù–µ—Ç –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –æ—à–∏–±–æ–∫** –≤ Sentry
3. **–í—Ä–µ–º—è –∑–∞–≥—Ä—É–∑–∫–∏ —Å—Ç—Ä–∞–Ω–∏—Ü** < 2 —Å–µ–∫—É–Ω–¥
4. **–í—Å–µ —Ä–æ–ª–∏ —Ä–∞–±–æ—Ç–∞—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ**
5. **WebSocket —á–∞—Ç —Å—Ç–∞–±–∏–ª–µ–Ω**
6. **–ö–∞—Ç–∞–ª–æ–≥ –º–∞–≥–∞–∑–∏–Ω–∞ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–µ–Ω**
7. **–°–æ—Ü–∏–∞–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –¥–æ—Å—Ç—É–ø–Ω—ã**

---

## üìû –ö–æ–Ω—Ç—Ä–æ–ª—å–Ω—ã–µ —Ç–æ—á–∫–∏

–ü–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ —ç—Ç–∞–ø–∞ –ø—Ä–æ–≤–µ—Ä—è–π—Ç–µ:

1. ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç –ª–∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è?
2. ‚úÖ –ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ –ª–∏ —Ä–∞–±–æ—Ç–∞—é—Ç —Ä–æ–ª–∏?
3. ‚úÖ –î–æ—Å—Ç—É–ø–Ω—ã –ª–∏ –≤—Å–µ –∞–¥–º–∏–Ω–∫–∏?
4. ‚úÖ –§—É–Ω–∫—Ü–∏–æ–Ω–∏—Ä—É–µ—Ç –ª–∏ –º–∞–≥–∞–∑–∏–Ω?
5. ‚úÖ –†–∞–±–æ—Ç–∞—é—Ç –ª–∏ —Å–æ—Ü–∏–∞–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏?
6. ‚úÖ –°—Ç–∞–±–∏–ª–µ–Ω –ª–∏ —á–∞—Ç?
7. ‚úÖ –ù–µ—Ç –ª–∏ –æ—à–∏–±–æ–∫ –≤ –∫–æ–Ω—Å–æ–ª–∏?

---

–≠—Ç–æ—Ç –ø–ª–∞–Ω –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π –ø–æ—à–∞–≥–æ–≤–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –¥–ª—è –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –ø—Ä–æ–µ–∫—Ç–∞ "–ë–µ—Å–µ–¥–∫–∞" —Å —É—á–µ—Ç–æ–º –≤—Å–µ—Ö –æ–±–Ω–∞—Ä—É–∂–µ–Ω–Ω—ã—Ö –ø—Ä–æ–±–ª–µ–º –∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã—Ö —É–ª—É—á—à–µ–Ω–∏–π. 
