{% extends "admin/change_list.html" %}
{% load i18n %}

{% block object-tools-items %}
    {{ block.super }}
    <li>
        <button onclick="resetColumnWidths()" class="btn btn-secondary"
                style="padding: 8px 16px; background: #6c757d; color: white; border: none; border-radius: 4px; cursor: pointer; margin-left: 10px;"
                title="–°–±—Ä–æ—Å–∏—Ç—å —Ä–∞–∑–º–µ—Ä—ã –≤—Å–µ—Ö —Å—Ç–æ–ª–±—Ü–æ–≤ –∫ –Ω–∞—á–∞–ª—å–Ω—ã–º –∑–Ω–∞—á–µ–Ω–∏—è–º">
            üîÑ –°–±—Ä–æ—Å–∏—Ç—å —Å—Ç–æ–ª–±—Ü—ã
        </button>
    </li>
{% endblock %}

{% block extrahead %}
    {{ block.super }}
    <style>
        /* –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Å—Ç–∏–ª–∏ –¥–ª—è –º–æ–±–∏–ª—å–Ω–æ–π —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏ */
        @media (max-width: 768px) {
            .object-tools li button {
                width: 100%;
                margin: 5px 0;
                display: block;
            }

            .object-tools {
                text-align: center;
            }
        }

        /* –£–ª—É—á—à–µ–Ω–Ω—ã–π —Å—Ç–∏–ª—å –∫–Ω–æ–ø–∫–∏ —Å–±—Ä–æ—Å–∞ */
        .object-tools button:hover {
            background: #5a6268 !important;
            transform: translateY(-1px);
            box-shadow: 0 2px 4px rgba(0,0,0,0.2);
        }

        .object-tools button:active {
            transform: translateY(0);
        }

        /* –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä –∞–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç–∏ */
        .responsive-indicator {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: rgba(65, 118, 144, 0.9);
            color: white;
            padding: 8px 12px;
            border-radius: 20px;
            font-size: 12px;
            z-index: 1000;
            transition: all 0.3s ease;
        }

        .responsive-indicator.hidden {
            opacity: 0;
            transform: translateY(10px);
        }
    </style>

    <script>
        // –î–æ–±–∞–≤–ª—è–µ–º –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä —Ä–∞–∑–º–µ—Ä–∞ —ç–∫—Ä–∞–Ω–∞ (–¥–ª—è –æ—Ç–ª–∞–¥–∫–∏)
        document.addEventListener('DOMContentLoaded', function() {
            const indicator = document.createElement('div');
            indicator.className = 'responsive-indicator';
            document.body.appendChild(indicator);

            function updateIndicator() {
                const width = window.innerWidth;
                let device = '';

                if (width <= 480) {
                    device = 'üì± –ú–æ–±–∏–ª—å–Ω—ã–π';
                } else if (width <= 768) {
                    device = 'üì± –ú–æ–±–∏–ª—å–Ω—ã–π+';
                } else if (width <= 1024) {
                    device = 'üìü –ü–ª–∞–Ω—à–µ—Ç';
                } else {
                    device = 'üñ•Ô∏è –î–µ—Å–∫—Ç–æ–ø';
                }

                indicator.textContent = `${device} (${width}px)`;

                // –°–∫—Ä—ã–≤–∞–µ–º –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä —á–µ—Ä–µ–∑ 3 —Å–µ–∫—É–Ω–¥—ã –ø–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Ä–∞–∑–º–µ—Ä–∞
                indicator.classList.remove('hidden');
                clearTimeout(indicator.timeout);
                indicator.timeout = setTimeout(() => {
                    indicator.classList.add('hidden');
                }, 3000);
            }

            updateIndicator();
            window.addEventListener('resize', updateIndicator);

            // –°–∫—Ä—ã–≤–∞–µ–º –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä –ø—Ä–∏ –ø–µ—Ä–≤–æ–π –∑–∞–≥—Ä—É–∑–∫–µ —á–µ—Ä–µ–∑ 5 —Å–µ–∫—É–Ω–¥
            setTimeout(() => {
                indicator.classList.add('hidden');
            }, 5000);
        });
    </script>
{% endblock %}
