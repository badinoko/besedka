{% extends "admin/base_site.html" %}
{% load i18n admin_urls static admin_modify %}

{% block title %}–ó–∞–ø—É—Å–∫ –ø–∞—Ä—Å–µ—Ä–∞ –Ω–æ–≤–æ—Å—Ç–µ–π{% endblock %}

{% block extrahead %}
<style>
.parser-form {
    max-width: 600px;
    margin: 20px auto;
    padding: 30px;
    background: #fff;
    border-radius: 8px;
    box-shadow: 0 2px 10px rgba(0,0,0,0.1);
}

.parser-info {
    background: #e8f4fd;
    border: 1px solid #0066cc;
    border-radius: 4px;
    padding: 15px;
    margin-bottom: 20px;
}

.parser-info h3 {
    color: #0066cc;
    margin-top: 0;
}

.parser-warning {
    background: #fff3cd;
    border: 1px solid #ffc107;
    border-radius: 4px;
    padding: 15px;
    margin-bottom: 20px;
}

.parser-warning h4 {
    color: #856404;
    margin-top: 0;
}

.submit-row {
    text-align: center;
    margin-top: 30px;
}

.btn-primary {
    background-color: #0066cc;
    border-color: #0066cc;
    color: white;
    padding: 10px 30px;
    font-size: 16px;
    border-radius: 4px;
    text-decoration: none;
    display: inline-block;
    cursor: pointer;
}

.btn-primary:hover {
    background-color: #0052a3;
    border-color: #0052a3;
}

.btn-secondary {
    background-color: #6c757d;
    border-color: #6c757d;
    color: white;
    padding: 10px 20px;
    margin-right: 10px;
    text-decoration: none;
    border-radius: 4px;
}

.stats-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 15px;
    margin: 20px 0;
}

.stat-item {
    background: #f8f9fa;
    padding: 15px;
    border-radius: 4px;
    text-align: center;
}

.stat-number {
    font-size: 24px;
    font-weight: bold;
    color: #0066cc;
}

.stat-label {
    font-size: 14px;
    color: #666;
    margin-top: 5px;
}
</style>
{% endblock %}

{% block content %}
<div class="parser-form">
    <h1>üöÄ –ó–∞–ø—É—Å–∫ –ø–∞—Ä—Å–µ—Ä–∞ –Ω–æ–≤–æ—Å—Ç–µ–π</h1>

    <div class="parser-info">
        <h3>üìã –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø–∞—Ä—Å–µ—Ä–µ</h3>
        <p>–ü–∞—Ä—Å–µ—Ä –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–±–∏—Ä–∞–µ—Ç –Ω–æ–≤–æ—Å—Ç–∏ —Å –Ω–∞—Å—Ç—Ä–æ–µ–Ω–Ω—ã—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤, –ø–µ—Ä–µ–≤–æ–¥–∏—Ç –∏—Ö –Ω–∞ —Ä—É—Å—Å–∫–∏–π —è–∑—ã–∫ —Å –ø–æ–º–æ—â—å—é Google Translate API –∏ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –¥–ª—è –º–æ–¥–µ—Ä–∞—Ü–∏–∏.</p>

        <div class="stats-grid">
            <div class="stat-item">
                <div class="stat-number">{{ sources_count }}</div>
                <div class="stat-label">–ê–∫—Ç–∏–≤–Ω—ã—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤</div>
            </div>
            <div class="stat-item">
                <div class="stat-number">{{ pending_count }}</div>
                <div class="stat-label">–û–∂–∏–¥–∞–µ—Ç –º–æ–¥–µ—Ä–∞—Ü–∏–∏</div>
            </div>
            <div class="stat-item">
                <div class="stat-number">{{ published_count }}</div>
                <div class="stat-label">–û–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–æ</div>
            </div>
        </div>
    </div>

    <div class="parser-warning">
        <h4>‚ö†Ô∏è –í–∞–∂–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è</h4>
        <ul>
            <li>–ü–∞—Ä—Å–∏–Ω–≥ –º–æ–∂–µ—Ç –∑–∞–Ω—è—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –º–∏–Ω—É—Ç –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤</li>
            <li>–í—Å–µ –Ω–æ–≤–æ—Å—Ç–∏ –ø–æ—Å–ª–µ –ø–∞—Ä—Å–∏–Ω–≥–∞ –ø–æ–ø–∞–¥–∞—é—Ç –≤ —Å—Ç–∞—Ç—É—Å "–û–∂–∏–¥–∞–µ—Ç –º–æ–¥–µ—Ä–∞—Ü–∏–∏"</li>
            <li>–î–ª—è —Ä–∞–±–æ—Ç—ã –ø–µ—Ä–µ–≤–æ–¥—á–∏–∫–∞ –Ω–µ–æ–±—Ö–æ–¥–∏–º –Ω–∞—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π Google Cloud Translation API</li>
            <li>–î—É–±–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Å—Ç–∞—Ç—å–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Ç—Ñ–∏–ª—å—Ç—Ä–æ–≤—ã–≤–∞—é—Ç—Å—è</li>
        </ul>
    </div>

    <form method="post">
        {% csrf_token %}

        <div class="submit-row">
            <a href="{% url 'admin:news_parsednews_changelist' %}" class="btn-secondary">
                ‚Üê –ù–∞–∑–∞–¥ –∫ —Å–ø–∏—Å–∫—É –Ω–æ–≤–æ—Å—Ç–µ–π
            </a>
            <button type="submit" class="btn-primary">
                üîÑ –ó–∞–ø—É—Å—Ç–∏—Ç—å –ø–∞—Ä—Å–∏–Ω–≥
            </button>
        </div>
    </form>

    <div style="margin-top: 30px; padding-top: 20px; border-top: 1px solid #ddd;">
        <h3>üìö –ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏</h3>
        <ul>
            <li><a href="{% url 'admin:news_newsource_changelist' %}">–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∞–º–∏ –Ω–æ–≤–æ—Å—Ç–µ–π</a></li>
            <li><a href="{% url 'admin:news_newscategory_changelist' %}">–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º–∏</a></li>
            <li><a href="{% url 'admin:news_parsinglog_changelist' %}">–õ–æ–≥–∏ –ø–∞—Ä—Å–∏–Ω–≥–∞</a></li>
        </ul>
    </div>
</div>

<script>
document.addEventListener('DOMContentLoaded', function() {
    const form = document.querySelector('form');
    const submitBtn = document.querySelector('.btn-primary');

    form.addEventListener('submit', function() {
        submitBtn.innerHTML = '‚è≥ –ü–∞—Ä—Å–∏–Ω–≥ –∑–∞–ø—É—â–µ–Ω...';
        submitBtn.disabled = true;
    });
});
</script>
{% endblock %}
