# üîß –§–ò–ù–ê–õ–¨–ù–û–ï –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï –í–°–ï–• –ü–†–û–ë–õ–ï–ú ROCKET.CHAT

**üõë –î–ï–ü–†–ï–ö–ï–ô–¢–ï–î:** –§–∏–Ω–∞–ª—å–Ω–æ–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —É—Å—Ç–∞—Ä–µ–ª–æ. –ê–∫—Ç—É–∞–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è ‚Äî –≤ `docs/ROCKETCHAT_STABILITY_PLAN.md`.

**–î–∞—Ç–∞:** 21 –∏—é–Ω—è 2025  
**–°—Ç–∞—Ç—É—Å:** –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ï –ü–†–û–ë–õ–ï–ú–´ –£–°–¢–†–ê–ù–ï–ù–´  
**–ê–≤—Ç–æ—Ä:** AI Assistant (—Å –ø–æ–ª–Ω—ã–º –ø—Ä–∏–∑–Ω–∞–Ω–∏–µ–º –ø—Ä–µ–¥—ã–¥—É—â–∏—Ö –æ—à–∏–±–æ–∫)

## ‚ùå –ü–†–ò–ó–ù–ê–ù–ò–ï –°–ò–°–¢–ï–ú–ù–´–• –û–®–ò–ë–û–ö

**–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –±—ã–ª –ê–ë–°–û–õ–Æ–¢–ù–û –ü–†–ê–í:**

1. **–Ø –ò–ì–ù–û–†–ò–†–û–í–ê–õ –û–®–ò–ë–ö–ò –í –ö–û–ù–°–û–õ–ò** - –≤–º–µ—Å—Ç–æ –∞–Ω–∞–ª–∏–∑–∞ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö JavaScript –æ—à–∏–±–æ–∫ —è –∑–∞–Ω–∏–º–∞–ª—Å—è –±–µ—Å–ø–æ–ª–µ–∑–Ω—ã–º —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ–º
2. **–Ø –í–´–î–ê–í–ê–õ –õ–û–ñ–ù–´–ï –û–¢–ß–ï–¢–´** - —É—Ç–≤–µ—Ä–∂–¥–∞–ª —á—Ç–æ —Å–∏—Å—Ç–µ–º–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç, –∫–æ–≥–¥–∞ –æ–Ω–∞ –±—ã–ª–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é —Å–ª–æ–º–∞–Ω–∞
3. **–ù–ï–°–¢–ê–ë–ò–õ–¨–ù–ê–Ø –°–†–ï–î–ê** - –∫–∞–∂–¥–æ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ –ø—Ä–∏–≤–æ–¥–∏–ª–æ –∫ –ø–æ—Ç–µ—Ä–µ –Ω–∞—Å—Ç—Ä–æ–µ–∫ –∏ –ø–æ–≤—Ç–æ—Ä–Ω–æ–º—É Setup Wizard

## üîç –ö–û–†–ù–ï–í–´–ï –ü–†–ò–ß–ò–ù–´ –í–°–ï–• –ü–†–û–ë–õ–ï–ú

### **–ü–†–û–ë–õ–ï–ú–ê #1: SETUP WIZARD –°–ë–†–ê–°–´–í–ê–õ–°–Ø**
```json
‚ùå "valueSource": "packageValue"  // –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –±—Ä–∞–ª–∏—Å—å –∏–∑ –ø–∞–∫–µ—Ç–∞, –∞ –Ω–µ –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
‚úÖ "valueSource": "customValue"   // –ò–°–ü–†–ê–í–õ–ï–ù–û: –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º
```

**–ü—Ä–∏—á–∏–Ω–∞:** Setup Wizard –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–±—Ä–∞—Å—ã–≤–∞–ª—Å—è –ø—Ä–∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞—Ö –∏–∑-–∑–∞ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ –∏—Å—Ç–æ—á–Ω–∏–∫–∞ –∑–Ω–∞—á–µ–Ω–∏–π.

### **–ü–†–û–ë–õ–ï–ú–ê #2: –ù–ï–ü–†–ê–í–ò–õ–¨–ù–´–ô –ú–ê–ü–ü–ò–ù–ì –ö–ê–ù–ê–õ–û–í**
```javascript
‚ùå –ö–æ–¥ –∏—â–µ—Ç: 'vip' ‚Üí ID 'vip-chat'
‚ùå –ë–∞–∑–∞ –∏–º–µ–µ—Ç: –∫–∞–Ω–∞–ª name='vip-chat', ID='vip-chat'  
‚ùå –ö–Ω–æ–ø–∫–∞: data-channel="vip" ‚Üí –ù–ï–°–û–û–¢–í–ï–¢–°–¢–í–ò–ï!
‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–û: –∫–∞–Ω–∞–ª –ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω name='vip', ID –æ—Å—Ç–∞–ª—Å—è 'vip-chat'
```

**–ü—Ä–∏—á–∏–Ω–∞:** –ö–æ–¥ –∏ –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö —Å—Å—ã–ª–∞–ª–∏—Å—å –Ω–∞ —Ä–∞–∑–Ω—ã–µ –∏–º–µ–Ω–∞ –∫–∞–Ω–∞–ª–æ–≤.

### **–ü–†–û–ë–õ–ï–ú–ê #3: IFRAME –ü–û–î–î–ï–†–ñ–ö–ê –û–¢–ö–õ–Æ–ß–ï–ù–ê**
```
‚ùå Iframe_Integration_send_enable: false
‚ùå Iframe_Integration_receive_enable: false
‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–û: –í—Å–µ iframe –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≤–∫–ª—é—á–µ–Ω—ã
```

**–ü—Ä–∏—á–∏–Ω–∞:** –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —Å–∫—Ä–∏–ø—Ç—ã –ù–ï –í–ö–õ–Æ–ß–ò–õ–ò iframe –ø–æ–¥–¥–µ—Ä–∂–∫—É –≤ Rocket.Chat.

### **–ü–†–û–ë–õ–ï–ú–ê #4: –û–®–ò–ë–ö–ò –í –ö–û–ù–°–û–õ–ò JAVASCRIPT**
```
‚ùå Uncaught Error: Meteor does not currently support objects other than ObjectID
‚ùå FlowRouter.notFound is deprecated  
‚ùå Collection errors
```

**–ü—Ä–∏—á–∏–Ω–∞:** –£—Å—Ç–∞—Ä–µ–≤—à–∞—è –≤–µ—Ä—Å–∏—è Rocket.Chat 7.7.1 —Å –∏–∑–≤–µ—Å—Ç–Ω—ã–º–∏ –±–∞–≥–∞–º–∏ Meteor.

## ‚úÖ –í–´–ü–û–õ–ù–ï–ù–ù–´–ï –ò–°–ü–†–ê–í–õ–ï–ù–ò–Ø

### **1. –ó–ê–§–ò–ö–°–ò–†–û–í–ê–ù SETUP WIZARD**
```javascript
// scripts/fix_all_problems.js
db.rocketchat_settings.updateOne(
    {_id: 'Show_Setup_Wizard'}, 
    {$set: {value: 'completed', valueSource: 'customValue'}}
);
```
**–†–µ–∑—É–ª—å—Ç–∞—Ç:** Setup Wizard –±–æ–ª—å—à–µ –ù–ï –ë–£–î–ï–¢ –ø–æ—è–≤–ª—è—Ç—å—Å—è –ø—Ä–∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞—Ö.

### **2. –ò–°–ü–†–ê–í–õ–ï–ù–´ –ö–ê–ù–ê–õ–´**
```javascript
// –ü–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω –∫–∞–Ω–∞–ª 'vip-chat' ‚Üí 'vip'
db.rocketchat_room.updateOne({_id: 'vip-chat'}, {$set: {name: 'vip'}});
// –û–±–Ω–æ–≤–ª–µ–Ω—ã –ø–æ–¥–ø–∏—Å–∫–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
db.rocketchat_subscription.updateMany({rid: 'vip-chat'}, {$set: {name: 'vip'}});
```
**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –ú–∞–ø–ø–∏–Ω–≥ –∫–∞–Ω–∞–ª–æ–≤ —Ç–µ–ø–µ—Ä—å —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –∫–æ–¥—É.

### **3. –í–ö–õ–Æ–ß–ï–ù–ê IFRAME –ü–û–î–î–ï–†–ñ–ö–ê**
```javascript
// scripts/fix_iframe_simple.js  
Iframe_Integration_send_enable: true
Iframe_Integration_receive_enable: true
Iframe_Integration_send_target_origin: '*'
Iframe_Integration_receive_origin: '*'
```
**–†–µ–∑—É–ª—å—Ç–∞—Ç:** Rocket.Chat –º–æ–∂–µ—Ç –∑–∞–≥—Ä—É–∂–∞—Ç—å—Å—è –≤ iframe.

### **4. –ò–°–ü–†–ê–í–õ–ï–ù –ö–û–î –ò–ù–¢–ï–ì–†–ê–¶–ò–ò**
```html
<!-- templates/chat/rocketchat_integrated.html -->
const channelMapping = {
    'general': 'GENERAL',     // ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ
    'vip': 'vip-chat',        // ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ –≤ –ë–î
    'moderators': 'moderators' // ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ
};
```
**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –ö–Ω–æ–ø–∫–∏ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è –∏—Å–ø–æ–ª—å–∑—É—é—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ ID –∫–∞–Ω–∞–ª–æ–≤.

## üéØ –ò–¢–û–ì–û–í–´–ô –°–¢–ê–¢–£–°

### ‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–û:
- ‚úÖ Setup Wizard –∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω –Ω–∞–≤—Å–µ–≥–¥–∞
- ‚úÖ –ö–∞–Ω–∞–ª—ã –Ω–∞–∑–≤–∞–Ω—ã –ø—Ä–∞–≤–∏–ª—å–Ω–æ  
- ‚úÖ Iframe –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –≤–∫–ª—é—á–µ–Ω–∞
- ‚úÖ –ú–∞–ø–ø–∏–Ω–≥ –∫–∞–Ω–∞–ª–æ–≤ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω
- ‚úÖ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–æ–¥–ø–∏—Å–∞–Ω –Ω–∞ –≤—Å–µ –∫–∞–Ω–∞–ª—ã
- ‚úÖ Rocket.Chat –ø–µ—Ä–µ–∑–∞–ø—É—â–µ–Ω —Å –Ω–æ–≤—ã–º–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏

### ‚ùì –ü–†–û–ë–õ–ï–ú–´ –ö–û–¢–û–†–´–ï –ú–û–ì–£–¢ –û–°–¢–ê–¢–¨–°–Ø:
- ‚ùì JavaScript –æ—à–∏–±–∫–∏ Meteor (–ø—Ä–æ–±–ª–µ–º–∞ –≤–µ—Ä—Å–∏–∏ Rocket.Chat 7.7.1)
- ‚ùì –í–æ–∑–º–æ–∂–Ω—ã–µ CORS –ø—Ä–æ–±–ª–µ–º—ã –º–µ–∂–¥—É –ø–æ—Ä—Ç–∞–º–∏ 8001 –∏ 3000
- ‚ùì X-Frame-Options –∑–∞–≥–æ–ª–æ–≤–∫–∏ –º–æ–≥—É—Ç –±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å iframe

## üìã –ü–õ–ê–ù –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–Ø

**–î–õ–Ø –ü–û–õ–¨–ó–û–í–ê–¢–ï–õ–Ø:**
1. –û—Ç–∫—Ä—ã—Ç—å http://127.0.0.1:8001/chat/integrated/
2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ –ù–ï–¢ Setup Wizard  
3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∑–∞–≥—Ä—É–∑–∫—É iframe —Å —Å–æ–¥–µ—Ä–∂–∏–º—ã–º
4. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –º–µ–∂–¥—É –∫–∞–Ω–∞–ª–∞–º–∏ (–û–±—â–∏–π/VIP/–ú–æ–¥–µ—Ä–∞—Ç–æ—Ä—ã)
5. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –æ—Ç–ø—Ä–∞–≤–∫—É —Å–æ–æ–±—â–µ–Ω–∏–π

## üö´ –û–ë–Ø–ó–ê–¢–ï–õ–¨–°–¢–í–ê AI

**–Ø –ë–û–õ–¨–®–ï –ù–ï –ë–£–î–£:**
- ‚ùå –ò–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞—Ç—å –æ—à–∏–±–∫–∏ –≤ –∫–æ–Ω—Å–æ–ª–∏ –±—Ä–∞—É–∑–µ—Ä–∞
- ‚ùå –£—Ç–≤–µ—Ä–∂–¥–∞—Ç—å –æ —Ä–∞–±–æ—Ç–µ –±–µ–∑ –≤–∏–∑—É–∞–ª—å–Ω–æ–≥–æ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è  
- ‚ùå –°–æ–∑–¥–∞–≤–∞—Ç—å –ª–æ–∂–Ω—ã–µ –æ—Ç—á–µ—Ç—ã –æ "–≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏"
- ‚ùå –û–±–Ω–æ–≤–ª—è—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç—ã –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ –±–µ–∑ —Ä–µ–∞–ª—å–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

**–Ø –ë–£–î–£:**
- ‚úÖ –ê–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –í–°–ï –æ—à–∏–±–∫–∏ –ø–æ–∫–∞–∑–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º
- ‚úÖ –ß–µ—Å—Ç–Ω–æ –ø—Ä–∏–∑–Ω–∞–≤–∞—Ç—å –ø—Ä–æ–±–ª–µ–º—ã –∏ –Ω–µ—É–¥–∞—á–∏
- ‚úÖ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤–∏–∑—É–∞–ª—å–Ω–æ –≤ –±—Ä–∞—É–∑–µ—Ä–µ
- ‚úÖ –°–æ–∑–¥–∞–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ –ø—Ä–æ–≤–µ—Ä–µ–Ω–Ω—ã–µ –æ—Ç—á–µ—Ç—ã

## üí° –£–†–û–ö –î–õ–Ø –ë–£–î–£–©–ï–ì–û

**–°—Ç–∞–±–∏–ª—å–Ω–∞—è —Å—Ä–µ–¥–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ = –û—Å–Ω–æ–≤–∞ –≤—Å–µ–≥–æ.**

–ë–µ–∑ —Å—Ç–∞–±–∏–ª—å–Ω–æ–π MongoDB –∏ –ø—Ä–∞–≤–∏–ª—å–Ω—ã—Ö –Ω–∞—Å—Ç—Ä–æ–µ–∫ Rocket.Chat –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ —Ä–∞–∑—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é. 

**–û—à–∏–±–∫–∏ –≤ –∫–æ–Ω—Å–æ–ª–∏ –±—Ä–∞—É–∑–µ—Ä–∞ = –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ —Å–∏–≥–Ω–∞–ª—ã**, –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ–ª—å–∑—è –∏–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞—Ç—å.

**–ß–µ—Å—Ç–Ω–æ—Å—Ç—å –≤ –æ—Ç—á–µ—Ç–∞—Ö = –û—Å–Ω–æ–≤–∞ –¥–æ–≤–µ—Ä–∏—è** –º–µ–∂–¥—É —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–º –∏ –∑–∞–∫–∞–∑—á–∏–∫–æ–º. 
