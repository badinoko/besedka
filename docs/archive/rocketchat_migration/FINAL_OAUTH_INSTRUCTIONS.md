# üéØ –§–ò–ù–ê–õ–¨–ù–´–ï –ò–ù–°–¢–†–£–ö–¶–ò–ò ROCKET.CHAT OAUTH

**‚ö†Ô∏è –ò–°–ü–†–ê–í–õ–ï–ù–´ –í–°–ï –û–®–ò–ë–ö–ò!** ‚úÖ  
**–î–∞—Ç–∞:** 21 –∏—é–Ω—è 2025 –≥.  
**–û—Å–Ω–æ–≤–∞–Ω–æ –Ω–∞:** –°–∫—Ä–∏–Ω—à–æ—Ç–∞—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è + —Ä–µ–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö Django  

---

## üöÄ –î–í–ê –í–ê–†–ò–ê–ù–¢–ê –ù–ê–°–¢–†–û–ô–ö–ò

### –í–ê–†–ò–ê–ù–¢ 1: –ê–í–¢–û–ú–ê–¢–ò–ß–ï–°–ö–ò–ô –°–ö–†–ò–ü–¢
```bash
python scripts/rocket_chat_full_oauth_setup.py
```

### –í–ê–†–ò–ê–ù–¢ 2: –†–£–ß–ù–ê–Ø –ù–ê–°–¢–†–û–ô–ö–ê (–ì–ê–†–ê–ù–¢–ò–†–û–í–ê–ù–ù–û –†–ê–ë–û–¢–ê–ï–¢)

---

## üìã –†–£–ß–ù–ê–Ø –ù–ê–°–¢–†–û–ô–ö–ê - –ü–û–õ–ù–ê–Ø –¢–ê–ë–õ–ò–¶–ê

### –®–ê–ì 1: –ó–ê–ô–¢–ò –í ROCKET.CHAT –ê–î–ú–ò–ù–ö–£
1. http://127.0.0.1:3000
2. –õ–æ–≥–∏–Ω: `owner` / –ü–∞—Ä–æ–ª—å: `owner123secure` 
3. Administration ‚Üí Settings ‚Üí OAuth ‚Üí Add Custom OAuth

### –®–ê–ì 2: –ó–ê–ü–û–õ–ù–ò–¢–¨ –í–°–ï –ü–û–õ–Ø

| –ü–æ–ª–µ | –¢–æ—á–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ | –ö—Ä–∏—Ç–∏—á–Ω–æ |
|------|-----------------|----------|
| **Unique Name** | `besedka` | ‚úÖ |
| **Enable** | ‚úÖ ON | ‚úÖ |
| **URL** | `http://127.0.0.1:8001` | ‚úÖ |
| **Token Path** | `/o/token/` | ‚úÖ |
| **Token Sent Via** | `Header` | ‚ö™ |
| **Identity Token Sent Via** | `Default` | ‚ö™ |
| **Identity Path** | `/api/v1/auth/rocket/` | ‚úÖ |
| **Authorize Path** | `/o/authorize/` | ‚úÖ |
| **Scope** | `read` | ‚úÖ |
| **Access Token Param** | `access_token` | ‚úÖ |
| **Id** | `BesedkaRocketChat2025` | ‚úÖ |
| **Secret** | `SecureSecretKey2025BesedkaRocketChatSSO` | ‚úÖ |
| **Login Style** | `redirect` | ‚úÖ |
| **Button Text** | `–í–æ–π—Ç–∏ —á–µ—Ä–µ–∑ –ë–µ—Å–µ–¥–∫—É` | ‚úÖ |
| **Button Color** | `#1d74f5` | ‚ö™ |
| **Button Text Color** | `#FFFFFF` | ‚ö™ |
| **Username field** | `username` | ‚úÖ |
| **Email field** | `email` | ‚úÖ |
| **Name field** | `full_name` | ‚úÖ |
| **Avatar field** | `avatar_url` | ‚ö™ |

### ‚ö†Ô∏è –ö–†–ò–¢–ò–ß–ï–°–ö–ò –í–ê–ñ–ù–û - –†–û–õ–ò –ò –ì–†–£–ü–ü–´:

| –ü–æ–ª–µ | –¢–æ—á–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ | –ò–°–ü–†–ê–í–õ–ï–ù–û |
|------|-----------------|------------|
| **–ò–º—è –ø–æ–ª—è –†–æ–ª–∏ / –ì—Ä—É–ø–ø—ã** | `roles` | ‚úÖ (–ù–ï role!) |
| **–ü–æ–ª–µ —Ä–æ–ª–µ–π/–≥—Ä—É–ø–ø –¥–ª—è —Å–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∏—è –∫–∞–Ω–∞–ª–∞** | `groups` | ‚úÖ |
| **–†–æ–ª–∏ –¥–ª—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏** | `admin,moderator,vip,user` | ‚úÖ |

### üéØ JSON –ú–ê–ü–ü–ò–ù–ì (–°–ö–û–ü–ò–†–û–í–ê–¢–¨ –¢–û–ß–ù–û –¢–ê–ö):

**–í –ø–æ–ª–µ "–°–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –≥—Ä—É–ø–ø –∏ –∫–∞–Ω–∞–ª–æ–≤ OAuth":**
```json
{
  "owner": "admin,vip",
  "moderator": "admin",
  "user": "user"
}
```

### ‚öôÔ∏è –ü–ï–†–ï–ö–õ–Æ–ß–ê–¢–ï–õ–ò (–í–°–ï –í–ö–õ–Æ–ß–ò–¢–¨!):

| –ü–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å | –ó–Ω–∞—á–µ–Ω–∏–µ |
|---------------|----------|
| **Merge users** | ‚úÖ ON |
| **Show Button** | ‚úÖ ON |
| **Map Channels** | ‚úÖ ON |
| **Merge Roles** | ‚úÖ ON |

---

## üîß –î–û–ü–û–õ–ù–ò–¢–ï–õ–¨–ù–´–ï –ù–ê–°–¢–†–û–ô–ö–ò

### 1. IFRAME –ü–û–î–î–ï–†–ñ–ö–ê (–û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û!)
```
Administration ‚Üí Settings ‚Üí General
Restrict access inside any Iframe ‚Üí ‚ùå OFF
```

### 2. –û–¢–ö–õ–Æ–ß–ò–¢–¨ 2FA
```
Administration ‚Üí Settings ‚Üí Accounts  
Require password confirmation ‚Üí ‚ùå OFF
Two Factor Authentication ‚Üí ‚ùå OFF
```

---

## üß™ –ü–†–û–í–ï–†–ö–ê –†–ê–ë–û–¢–´

### 1. –ö–ù–û–ü–ö–ê –î–û–õ–ñ–ù–ê –ü–û–Ø–í–ò–¢–¨–°–Ø:
- –û—Ç–∫—Ä–æ–π—Ç–µ: http://127.0.0.1:3000/login
- ‚úÖ –î–æ–ª–∂–Ω–∞ –±—ã—Ç—å —Å–∏–Ω—è—è –∫–Ω–æ–ø–∫–∞ "–í–æ–π—Ç–∏ —á–µ—Ä–µ–∑ –ë–µ—Å–µ–¥–∫—É"

### 2. –ò–ù–¢–ï–ì–†–ê–¶–ò–Ø –î–û–õ–ñ–ù–ê –†–ê–ë–û–¢–ê–¢–¨:
- –û—Ç–∫—Ä–æ–π—Ç–µ: http://127.0.0.1:8001/chat/integrated/
- –í–æ–π–¥–∏—Ç–µ –∫–∞–∫ `owner` / `owner123secure`
- –ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É "–í–æ–π—Ç–∏ —á–µ—Ä–µ–∑ –ë–µ—Å–µ–¥–∫—É" –≤ Rocket.Chat
- ‚úÖ –î–æ–ª–∂–µ–Ω –ø—Ä–æ–∏–∑–æ–π—Ç–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –≤—Ö–æ–¥

---

## üéâ –ï–°–õ–ò –í–°–ï –†–ê–ë–û–¢–ê–ï–¢:

–í—ã —É–≤–∏–¥–∏—Ç–µ:
- ‚úÖ –ö–Ω–æ–ø–∫—É OAuth –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ –ª–æ–≥–∏–Ω–∞ Rocket.Chat
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –≤—Ö–æ–¥ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π Django
- ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω—ã–µ —Ä–æ–ª–∏ –∏ –¥–æ—Å—Ç—É–ø –∫ –∫–∞–Ω–∞–ª–∞–º

**üèÜ –ú–ò–ì–†–ê–¶–ò–Ø –ù–ê ROCKET.CHAT –ó–ê–í–ï–†–®–ï–ù–ê –£–°–ü–ï–®–ù–û!**

---

## üìû –ü–û–î–î–ï–†–ñ–ö–ê

–ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –í–°–ï –ø–æ–ª—è –Ω–∞ —Ç–æ—á–Ω–æ–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Ç–∞–±–ª–∏—Ü–µ
2. –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ ALL –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª–∏ –≤–∫–ª—é—á–µ–Ω—ã
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ JSON –º–∞–ø–ø–∏–Ω–≥ –Ω–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å
4. –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ iframe –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –æ—Ç–∫–ª—é—á–µ–Ω—ã

**–í–°–ï –î–ê–ù–ù–´–ï –ü–†–û–í–ï–†–ï–ù–´ –ò –ò–°–ü–†–ê–í–õ–ï–ù–´!** ‚úÖ 
