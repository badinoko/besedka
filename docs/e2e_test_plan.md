# E2E TEST PLAN (Июнь 2025)

Документ описывает полный перечень ручных сценариев (пошагово) для проверки всех модулей проекта «Беседка» с учётом 6 ролей. Фиксация результатов — скриншоты в `audit_screenshots/full_audit/`.

## 1. Общие инструкции
1. Запустить окружение: `docker-compose -f docker-compose.local.yml up -d` ➜ `daphne -b 127.0.0.1 -p 8001 config.asgi:application`.
2. Открыть браузер в режиме инкогнито (очистить кэш).
3. Для каждой роли выполнить логин, затем все сценарии секции.
4. После критичных действий (создание, оформление заказа) делать скриншот подтверждающей страницы.

---

## 2. Owner (owner / owner123secure)
- [ ] Переход `/owner-admin/` — загрузка без ошибок.
- [ ] Просмотр статистики пользователей.
- [ ] Переход в модераторскую админку ✓ `/moderator-admin/`.
- [ ] Создание временного пароля для Store Owner.
- [ ] Логаут.

## 3. Admin / Moderator (admin / admin123secure)
- [ ] Логин и переход `/moderator-admin/`.
- [ ] Модерация: скрыть комментарий в новости.
- [ ] Забанить и разбанить пользователя test_user.
- [ ] Проверить обработку жалобы на фото.

## 4. Store Owner (store_owner / storeowner123secure)
- [ ] Логин, переход `/store-owner-admin/` (без ошибок).
- [ ] Просмотр каталога товаров.
- [ ] Создать новую категорию.
- [ ] Изменить цену товара.
- [ ] Логаут.

## 5. Store Admin (store_admin / storeadmin123secure)
- [ ] Логин, переход `/store-admin/`.
- [ ] Отметить заказ как «Отправлен».
- [ ] Добавить купон, проверить отображение в магазине (как Guest).

## 6. User (test_user / user123secure)
### Магазин
- [ ] Перейти `/store/`, применить фильтр «Дешевые» — обновление AJAX.
- [ ] Добавить товар в корзину (иконка счётчика обновилась).
- [ ] Перейти в корзину `/store/cart/`, изменить количество, пересчитать.
- [ ] Оформить заказ `/store/checkout/` — страница успеха `/store/order/*/success/`.

### Галерея
- [ ] Загрузить фото (формат JPEG < 2 MB).
- [ ] Проверить «Мои фото».

### Гроу-репорты
- [ ] Создать публичный репорт, добавить фото и комментарий.

### Новости
- [ ] Оставить комментарий к свежей новости (AJAX, без перезагрузки).

### Чат
- [ ] Отправить сообщение, убедиться в появлении без перезагрузки.

## 7. Guest
- [ ] Просмотр `/news/`, `/gallery/`, `/growlogs/`, `/store/` — доступ без ошибок.
- [ ] Попытка лайкнуть фото → редирект на логин.
- [ ] Попытка написать в чат → предложение авторизоваться.

---

## 8. Проверка SSOT-компонентов
- [ ] `unified_card.html` — одинаковый DOM во всех разделах (DevTools → Elements).
- [ ] `unified_comment_section.html` — форма + 20 комментариев + кнопка «Показать ещё».
- [ ] Hero-секции — одинаковая структура `.hero-container`, классы `hero-stats` и `hero-actions`.

---

## 9. Перформанс
- [ ] Lighthouse > 90 score на desktop для `/store/` и `/news/`.
- [ ] Проверить Redis-кеширование карточек (`/gallery/` — повторный запрос < 250 ms).

---

## 10. Итог
Заполнить таблицу результатов (Pass/Fail, скриншот, комментарий) в `audit_reports/final_e2e_results.xlsx`. После успешного прохождения всего чек-листа проект считается готовым к релизу 1.0. 
