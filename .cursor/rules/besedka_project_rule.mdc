---
description:
globs:
alwaysApply: true
---
# –ü—Ä–∞–≤–∏–ª–∞ –ø—Ä–æ–µ–∫—Ç–∞ "–ë–µ—Å–µ–¥–∫–∞" (–í–µ—Ä—Å–∏—è 6.0 - –ú–∏–≥—Ä–∞—Ü–∏—è –Ω–∞ Rocket.Chat)

## üöÄ –ù–û–í–´–ô –í–ï–ö–¢–û–† –†–ê–ó–í–ò–¢–ò–Ø (–ò—é–Ω—å 2025): –ú–ò–ì–†–ê–¶–ò–Ø –ù–ê ROCKET.CHAT
–ü—Ä–æ–µ–∫—Ç –≤—Å—Ç—É–ø–∞–µ—Ç –≤ —Ñ–∞–∑—É —Å—Ç—Ä–∞—Ç–µ–≥–∏—á–µ—Å–∫–æ–π –ø–µ—Ä–µ—Å—Ç—Ä–æ–π–∫–∏. **–û—Å–Ω–æ–≤–Ω–∞—è —Ü–µ–ª—å ‚Äî –∑–∞–º–µ–Ω–∞ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ —á–∞—Ç–∞ –Ω–∞ –ø–ª–∞—Ç—Ñ–æ—Ä–º—É –ø—Ä–æ–º—ã—à–ª–µ–Ω–Ω–æ–≥–æ —É—Ä–æ–≤–Ω—è Rocket.Chat.** –≠—Ç–æ —Ä–µ—à–µ–Ω–∏–µ –ø—Ä–∏–Ω—è—Ç–æ –¥–ª—è –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç–∏, –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –∏ —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω–æ–≥–æ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞.

**‚ö†Ô∏è –¢–ï–ö–£–©–ï–ï –°–û–°–¢–û–Ø–ù–ò–ï (21 –∏—é–Ω—è 2025):**
- ‚úÖ –ë–∞–∑–æ–≤–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è Rocket.Chat –∑–∞–≤–µ—Ä—à–µ–Ω–∞ –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ –°–æ–∑–¥–∞–Ω—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ (`scripts/magic_restart.py`)
- ‚úÖ –†–µ—à–µ–Ω–∞ –ø—Ä–æ–±–ª–µ–º–∞ —Å –ø–æ—Å—Ç–æ—è–Ω–Ω—ã–º–∏ –ø–µ—Ä–µ–Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏ Setup Wizard
- ‚úÖ –°–æ–∑–¥–∞–Ω –Ω–∞–¥–µ–∂–Ω—ã–π –º–µ—Ö–∞–Ω–∏–∑–º —Ä–µ–∑–µ—Ä–≤–Ω–æ–≥–æ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è
- üîÑ –¢—Ä–µ–±—É–µ—Ç—Å—è —Ñ–∏–Ω–∞–ª—å–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –∫–∞–Ω–∞–ª–æ–≤ –∏ –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞

**–ö–ª—é—á–µ–≤—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã —Ç–µ–∫—É—â–µ–π —Ñ–∞–∑—ã:**
- **docs/ROCKETCHAT_MIGRATION_PLAN_V3.md** ‚Äî –ø–ª–∞–Ω –º–∏–≥—Ä–∞—Ü–∏–∏
- **docs/ROCKETCHAT_MIGRATION_PROGRESS.md** ‚Äî –ø—Ä–æ–≥—Ä–µ—Å—Å –º–∏–≥—Ä–∞—Ü–∏–∏
- **docs/ROCKETCHAT_STABILITY_PLAN.md** ‚Äî –∫—Ä–∞—Ç–∫–∏–π —Ä–µ—Ü–µ–ø—Ç —É—Å—Ç–æ–π—á–∏–≤–æ–π —Ä–∞–±–æ—Ç—ã (–æ–±—è–∑–∞—Ç–µ–ª–µ–Ω –∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—é)
- **docs/ROCKETCHAT_FINAL_GUIDE.md** ‚Äî —Ñ–∏–Ω–∞–ª—å–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ —Å –≥–æ—Ç–æ–≤—ã–º–∏ —Ä–µ—à–µ–Ω–∏—è–º–∏
- **EMERGENCY_RESTORE.md** ‚Äî –ø—Ä–æ—Ü–µ–¥—É—Ä—ã —ç–∫—Å—Ç—Ä–µ–Ω–Ω–æ–≥–æ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è

## üìã –°–í–Ø–ó–ê–ù–ù–´–ï –î–û–ö–£–ú–ï–ù–¢–´ (–ï–î–ò–ù–´–ô –ò–°–¢–û–ß–ù–ò–ö –ü–†–ê–í–î–´):
- **BESEDKA_MASTER_DOCUMENTATION.md**
- **BESEDKA_UI_STANDARDS.md**
- **BESEDKA_USER_SYSTEM.md**

## üö® –ö–õ–Æ–ß–ï–í–û–ô –ü–†–ò–ù–¶–ò–ü: SSOT (Single Source of Truth)

**–ü—Ä–æ–µ–∫—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç –ø–æ –ø—Ä–∏–Ω—Ü–∏–ø—É SSOT. –≠—Ç–æ —Å—Ç–∞–Ω–¥–∞—Ä—Ç –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é.**

1. **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤:** –í—Å–µ —Å–ø–∏—Å–∫–æ–≤—ã–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã **–¥–æ–ª–∂–Ω—ã** —Å—Ç—Ä–µ–º–∏—Ç—å—Å—è –∫ –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏—é –æ—Ç `core.base_views.UnifiedListView` –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é —à–∞–±–ª–æ–Ω–∞ `base_list_page.html`.
2. **–£–ø—Ä–∞–≤–ª—è–µ–º—ã–µ –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏—è:** –ï—Å–ª–∏ –¥–ª—è —Ä–µ—à–µ–Ω–∏—è —É–Ω–∏–∫–∞–ª—å–Ω–æ–π –∑–∞–¥–∞—á–∏ (–ø–æ –ø—Ä—è–º–æ–º—É —É–∫–∞–∑–∞–Ω–∏—é) —Ç—Ä–µ–±—É–µ—Ç—Å—è –æ—Ç—Å—Ç—É–ø–∏—Ç—å –æ—Ç —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ (–∫–∞–∫ –≤ —Å–ª—É—á–∞–µ —Å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–µ–π Rocket.Chat), **—Ç–∞–∫–æ–µ –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏–µ –î–û–ü–£–°–¢–ò–ú–û**.

## –û–±—â–µ–µ –æ–ø–∏—Å–∞–Ω–∏–µ
–ü—Ä–æ–µ–∫—Ç "–ë–µ—Å–µ–¥–∫–∞" - —ç—Ç–æ –∫–æ–º–ø–ª–µ–∫—Å–Ω–∞—è –≤–µ–±-–ø–ª–∞—Ç—Ñ–æ—Ä–º–∞, –∫–æ—Ç–æ—Ä–∞—è –ø—Ä–æ—Ö–æ–¥–∏—Ç —ç—Ç–∞–ø –≥–ª—É–±–æ–∫–æ–π –º–æ–¥–µ—Ä–Ω–∏–∑–∞—Ü–∏–∏. –û–Ω–∞ –æ–±—ä–µ–¥–∏–Ω—è–µ—Ç:
- –ò–Ω—Ç–µ—Ä–Ω–µ—Ç-–º–∞–≥–∞–∑–∏–Ω —Å–µ–º—è–Ω "Magic Beans"
- –°–æ—Ü–∏–∞–ª—å–Ω—É—é —Å–µ—Ç—å –¥–ª—è —Ä–∞—Å—Ç–µ–Ω–∏–µ–≤–æ–¥–æ–≤
- –°–∏—Å—Ç–µ–º—É –≥—Ä–æ—É-—Ä–µ–ø–æ—Ä—Ç–æ–≤ (–∞–Ω–∞–ª–æ–≥ GrowDiaries)
- –ì–∞–ª–µ—Ä–µ—é —Å–æ–æ–±—â–µ—Å—Ç–≤–∞ —Å —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏—è–º–∏ —Ä–∞—Å—Ç–µ–Ω–∏–π
- **–°–∏—Å—Ç–µ–º—É —á–∞—Ç–æ–≤ –Ω–∞ –±–∞–∑–µ Rocket.Chat (–≤ –ø—Ä–æ—Ü–µ—Å—Å–µ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏)**

## –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫
- **Backend**: Django 4.2, Python 3.12
- **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö**: PostgreSQL, MongoDB (–¥–ª—è Rocket.Chat)
- **–ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ**: Redis
- **WebSocket**: Rocket.Chat (–∑–∞–º–µ–Ω—è–µ—Ç Django Channels)
- **–ö–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è**: Docker, Docker Compose
- **–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è**: Django Allauth + Telegram Login (—Å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–µ–π SSO –¥–ª—è Rocket.Chat)

## –°–∏—Å—Ç–µ–º–∞ —Ä–æ–ª–µ–π –∏ –ø–æ–ª–Ω–æ–º–æ—á–∏–π
(–ü–æ–ª–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ —Å–º. –≤ `BESEDKA_MASTER_DOCUMENTATION.md`)

## –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã –¢–ï–ö–£–©–ï–ô –§–ê–ó–´ (–ú–∏–≥—Ä–∞—Ü–∏—è –Ω–∞ Rocket.Chat):
1. **–†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ —Å—Ç–µ–∫–∞ Rocket.Chat** - –∑–∞–ø—É—Å–∫ –≤—Å–µ—Ö –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã—Ö –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤.
2. **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ SSO (Single Sign-On)** - –±–µ—Å—à–æ–≤–Ω–∞—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π.
3. **–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –ø—Ä–∞–≤ –∏ –∫–∞–Ω–∞–ª–æ–≤** - –ø–µ—Ä–µ–Ω–æ—Å —Ä–æ–ª–µ–π –∏ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã —á–∞—Ç–æ–≤.
4. **–ì–ª—É–±–æ–∫–∞—è UI-–∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è** - –≤—Å—Ç—Ä–∞–∏–≤–∞–Ω–∏–µ Rocket.Chat –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å "–ë–µ—Å–µ–¥–∫–∏" —Å —Å–æ–±–ª—é–¥–µ–Ω–∏–µ–º SSOT.
5. **–û–±–µ—Å–ø–µ—á–µ–Ω–∏–µ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏** - –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ CSP, HSTS –∏ –¥—Ä—É–≥–∏—Ö –º–µ—Ö–∞–Ω–∏–∑–º–æ–≤ –∑–∞—â–∏—Ç—ã.
